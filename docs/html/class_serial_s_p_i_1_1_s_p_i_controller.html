<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Embedded C++ Serial Communication Library: SerialSPI::SPIController Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Embedded C++ Serial Communication Library<span id="projectnumber">&#160;1</span>
   </div>
   <div id="projectbrief">A custom C++ serial communication library for easy configuration and implementation of serial communication protocols.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_serial_s_p_i.html">SerialSPI</a></li><li class="navelem"><a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html">SPIController</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_serial_s_p_i_1_1_s_p_i_controller-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">SerialSPI::SPIController Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>SPI serial communication controller object  
 <a href="class_serial_s_p_i_1_1_s_p_i_controller.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="serial__spi_8h_source.html">serial_spi.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a47bb2a527721438538b117fe96d8cf99"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a47bb2a527721438538b117fe96d8cf99">SPIController</a> (void)</td></tr>
<tr class="memdesc:a47bb2a527721438538b117fe96d8cf99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="class_serial_s_p_i_1_1_s_p_i_controller.html#a47bb2a527721438538b117fe96d8cf99">More...</a><br /></td></tr>
<tr class="separator:a47bb2a527721438538b117fe96d8cf99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2411774170cdb8758f206af77aae5c73"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a2411774170cdb8758f206af77aae5c73">~SPIController</a> (void)</td></tr>
<tr class="memdesc:a2411774170cdb8758f206af77aae5c73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="class_serial_s_p_i_1_1_s_p_i_controller.html#a2411774170cdb8758f206af77aae5c73">More...</a><br /></td></tr>
<tr class="separator:a2411774170cdb8758f206af77aae5c73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac613474c61cbcf0cf8268bb3f7b492e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#aac613474c61cbcf0cf8268bb3f7b492e">Init</a> (<a class="el" href="struct_s_p_i_h_a_l_1_1_peripheral.html">SPIHAL::Peripheral</a> *p_config, char *mosi_buf, uint32_t mosi_size, char *miso_buf, uint32_t miso_size)</td></tr>
<tr class="memdesc:aac613474c61cbcf0cf8268bb3f7b492e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes SPI serial communication.  <a href="class_serial_s_p_i_1_1_s_p_i_controller.html#aac613474c61cbcf0cf8268bb3f7b492e">More...</a><br /></td></tr>
<tr class="separator:aac613474c61cbcf0cf8268bb3f7b492e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad4d083ef9093fe0462e124072757fb6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#aad4d083ef9093fe0462e124072757fb6">Deinit</a> (void)</td></tr>
<tr class="memdesc:aad4d083ef9093fe0462e124072757fb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables and resets SPI serial communication.  <a href="class_serial_s_p_i_1_1_s_p_i_controller.html#aad4d083ef9093fe0462e124072757fb6">More...</a><br /></td></tr>
<tr class="separator:aad4d083ef9093fe0462e124072757fb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20a5ea3cc3245409ca33962a37bfc41b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a20a5ea3cc3245409ca33962a37bfc41b">ResetMOSIBuffer</a> (char *mosi_buf, uint32_t mosi_size)</td></tr>
<tr class="memdesc:a20a5ea3cc3245409ca33962a37bfc41b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets MOSI/transmit buffer.  <a href="class_serial_s_p_i_1_1_s_p_i_controller.html#a20a5ea3cc3245409ca33962a37bfc41b">More...</a><br /></td></tr>
<tr class="separator:a20a5ea3cc3245409ca33962a37bfc41b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53d317407bfb1b94cb69b37eb9934c7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a53d317407bfb1b94cb69b37eb9934c7a">ResetMISOBuffer</a> (char *miso_buf, uint32_t miso_size)</td></tr>
<tr class="memdesc:a53d317407bfb1b94cb69b37eb9934c7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets MISO/receive buffer.  <a href="class_serial_s_p_i_1_1_s_p_i_controller.html#a53d317407bfb1b94cb69b37eb9934c7a">More...</a><br /></td></tr>
<tr class="separator:a53d317407bfb1b94cb69b37eb9934c7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea49d25ca4796de870226f49e05892db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#aea49d25ca4796de870226f49e05892db">ClearBuffers</a> (bool clear_mosi=true, bool clear_miso=true)</td></tr>
<tr class="memdesc:aea49d25ca4796de870226f49e05892db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears MOSI and/or MISO buffers.  <a href="class_serial_s_p_i_1_1_s_p_i_controller.html#aea49d25ca4796de870226f49e05892db">More...</a><br /></td></tr>
<tr class="separator:aea49d25ca4796de870226f49e05892db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a982acee8e5b16d9a4f99dd25257ce4be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a982acee8e5b16d9a4f99dd25257ce4be">ISR</a> (void)</td></tr>
<tr class="memdesc:a982acee8e5b16d9a4f99dd25257ce4be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt Service Routine.  <a href="class_serial_s_p_i_1_1_s_p_i_controller.html#a982acee8e5b16d9a4f99dd25257ce4be">More...</a><br /></td></tr>
<tr class="separator:a982acee8e5b16d9a4f99dd25257ce4be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a627377a7434d11ac09f96c036e63b649"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a627377a7434d11ac09f96c036e63b649">SPIHostProcedure</a> (uint32_t num_bytes, const char *bytes, uint32_t num_read=0)</td></tr>
<tr class="memdesc:a627377a7434d11ac09f96c036e63b649"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple SPI Procedure which performs a transaction between host and client.  <a href="class_serial_s_p_i_1_1_s_p_i_controller.html#a627377a7434d11ac09f96c036e63b649">More...</a><br /></td></tr>
<tr class="separator:a627377a7434d11ac09f96c036e63b649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af32c1b958d7f206d14c260f3bf9a7d41"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#af32c1b958d7f206d14c260f3bf9a7d41">Transmit</a> (char input)</td></tr>
<tr class="memdesc:af32c1b958d7f206d14c260f3bf9a7d41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit character into logic layer transmit buffer to be sent to SPI data buffer.  <a href="class_serial_s_p_i_1_1_s_p_i_controller.html#af32c1b958d7f206d14c260f3bf9a7d41">More...</a><br /></td></tr>
<tr class="separator:af32c1b958d7f206d14c260f3bf9a7d41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a1ba24ba52726fe3800b9ec81438a8a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a3a1ba24ba52726fe3800b9ec81438a8a">Receive</a> (char *output=nullptr)</td></tr>
<tr class="memdesc:a3a1ba24ba52726fe3800b9ec81438a8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive character from logic layer MISO buffer and free buffer space.  <a href="class_serial_s_p_i_1_1_s_p_i_controller.html#a3a1ba24ba52726fe3800b9ec81438a8a">More...</a><br /></td></tr>
<tr class="separator:a3a1ba24ba52726fe3800b9ec81438a8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a777a2d4ab37f0f3791484016d4905e55"><td class="memItemLeft" align="right" valign="top"><a id="a777a2d4ab37f0f3791484016d4905e55" name="a777a2d4ab37f0f3791484016d4905e55"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetMISOAvailable</b> (void) const</td></tr>
<tr class="memdesc:a777a2d4ab37f0f3791484016d4905e55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter for number of unread characters available in MISO/receive buffer. <br /></td></tr>
<tr class="separator:a777a2d4ab37f0f3791484016d4905e55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b01038eda75612f433a016cab9b7878"><td class="memItemLeft" align="right" valign="top"><a id="a7b01038eda75612f433a016cab9b7878" name="a7b01038eda75612f433a016cab9b7878"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetMOSIEmpty</b> (void) const</td></tr>
<tr class="memdesc:a7b01038eda75612f433a016cab9b7878"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter for number of empty slots available in MOSI/transmit buffer. <br /></td></tr>
<tr class="separator:a7b01038eda75612f433a016cab9b7878"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0c643045b84a84301522894a807d756"><td class="memItemLeft" align="right" valign="top"><a id="ac0c643045b84a84301522894a807d756" name="ac0c643045b84a84301522894a807d756"></a>
<a class="el" href="struct_serial_s_p_i_1_1_buffer_states.html">BufferStates</a>&#160;</td><td class="memItemRight" valign="bottom"><b>GetBufferStates</b> (void) const</td></tr>
<tr class="memdesc:ac0c643045b84a84301522894a807d756"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get MISO and MOSI buffer states. <br /></td></tr>
<tr class="separator:ac0c643045b84a84301522894a807d756"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae61e13e1124ba8fa06cbcd9570f478bf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_serial_s_p_i_1_1_status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#ae61e13e1124ba8fa06cbcd9570f478bf">GetStatus</a> (void) const</td></tr>
<tr class="memdesc:ae61e13e1124ba8fa06cbcd9570f478bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter for errors, interrupts, and power state.  <a href="class_serial_s_p_i_1_1_s_p_i_controller.html#ae61e13e1124ba8fa06cbcd9570f478bf">More...</a><br /></td></tr>
<tr class="separator:ae61e13e1124ba8fa06cbcd9570f478bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb1506e78efd728e84f2e221a63787e5"><td class="memItemLeft" align="right" valign="top"><a id="acb1506e78efd728e84f2e221a63787e5" name="acb1506e78efd728e84f2e221a63787e5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>ClearMOSIInterrupt</b> (void)</td></tr>
<tr class="memdesc:acb1506e78efd728e84f2e221a63787e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears MOSI Interrupt <a class="el" href="struct_serial_s_p_i_1_1_status.html" title="A status struct containing interrupt and error statuses, and SPI power state.">Status</a>. <br /></td></tr>
<tr class="separator:acb1506e78efd728e84f2e221a63787e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f03b1356b67fcee8c89eecde8d875f4"><td class="memItemLeft" align="right" valign="top"><a id="a5f03b1356b67fcee8c89eecde8d875f4" name="a5f03b1356b67fcee8c89eecde8d875f4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>ClearMISOInterrupt</b> (void)</td></tr>
<tr class="memdesc:a5f03b1356b67fcee8c89eecde8d875f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears MISO Interrupt <a class="el" href="struct_serial_s_p_i_1_1_status.html" title="A status struct containing interrupt and error statuses, and SPI power state.">Status</a>. <br /></td></tr>
<tr class="separator:a5f03b1356b67fcee8c89eecde8d875f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4ccfe6239374a7923f6bc32022c0cac"><td class="memItemLeft" align="right" valign="top"><a id="ac4ccfe6239374a7923f6bc32022c0cac" name="ac4ccfe6239374a7923f6bc32022c0cac"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>ClearErrors</b> (void)</td></tr>
<tr class="memdesc:ac4ccfe6239374a7923f6bc32022c0cac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears Error <a class="el" href="struct_serial_s_p_i_1_1_status.html" title="A status struct containing interrupt and error statuses, and SPI power state.">Status</a>. <br /></td></tr>
<tr class="separator:ac4ccfe6239374a7923f6bc32022c0cac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a734767c555f5bad5cf8104d0d5c467"><td class="memItemLeft" align="right" valign="top"><a id="a8a734767c555f5bad5cf8104d0d5c467" name="a8a734767c555f5bad5cf8104d0d5c467"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>EnableErrorIRQ</b> (bool enable=true)</td></tr>
<tr class="memdesc:a8a734767c555f5bad5cf8104d0d5c467"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enabler for Error interrupt. <br /></td></tr>
<tr class="separator:a8a734767c555f5bad5cf8104d0d5c467"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a725cb585c59f8bd9aa57418b25df14c4"><td class="memItemLeft" align="right" valign="top"><a id="a725cb585c59f8bd9aa57418b25df14c4" name="a725cb585c59f8bd9aa57418b25df14c4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SSHigh</b> (void)</td></tr>
<tr class="memdesc:a725cb585c59f8bd9aa57418b25df14c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets Slave Select Line to High (indicates end of transmission to slave device) <br /></td></tr>
<tr class="separator:a725cb585c59f8bd9aa57418b25df14c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fc4ad0d39e775a14becf473a979263c"><td class="memItemLeft" align="right" valign="top"><a id="a6fc4ad0d39e775a14becf473a979263c" name="a6fc4ad0d39e775a14becf473a979263c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SSLow</b> (void)</td></tr>
<tr class="memdesc:a6fc4ad0d39e775a14becf473a979263c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets Slave Select Line to Low (indicates start of transmission to slave device) <br /></td></tr>
<tr class="separator:a6fc4ad0d39e775a14becf473a979263c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84f78bb2865e1f36b0dfe2f0567c01cd"><td class="memItemLeft" align="right" valign="top"><a id="a84f78bb2865e1f36b0dfe2f0567c01cd" name="a84f78bb2865e1f36b0dfe2f0567c01cd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>ChangeSSL</b> (<a class="el" href="struct_s_e_r_c_o_m_h_a_l_1_1_pinout.html">SERCOMHAL::Pinout</a> ssl_pinout)</td></tr>
<tr class="memdesc:a84f78bb2865e1f36b0dfe2f0567c01cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change Slave Select Line pin (if using multiple clients) <br /></td></tr>
<tr class="separator:a84f78bb2865e1f36b0dfe2f0567c01cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >SPI serial communication controller object </p>
<p >This is a SPI serial communication controller which manages a single peripheral. It creates two FIFO queues for transmission and reception of data over SPI and some simple parsing capabilities. This controller is interrupt driven, so <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a982acee8e5b16d9a4f99dd25257ce4be" title="Interrupt Service Routine.">ISR()</a> must be implemented in the SPI interrupt handler (pay attention to which SERCOM# you are using). The ISR provides interrupt and error flags and can be read using <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#ae61e13e1124ba8fa06cbcd9570f478bf" title="Getter for errors, interrupts, and power state.">GetStatus()</a> to implement your own error and interrupt handling outside of basic data transmission/reception. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a47bb2a527721438538b117fe96d8cf99" name="a47bb2a527721438538b117fe96d8cf99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47bb2a527721438538b117fe96d8cf99">&#9670;&nbsp;</a></span>SPIController()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SerialSPI::SPIController::SPIController </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<p >Instantiates controller object for SPI serial communication.<br  />
 This will not initialize the hardware, <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#aac613474c61cbcf0cf8268bb3f7b492e" title="Initializes SPI serial communication.">Init()</a> must be called before transmission and reception will do anything.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a2411774170cdb8758f206af77aae5c73" title="Destructor.">~SPIController()</a>, <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#aac613474c61cbcf0cf8268bb3f7b492e" title="Initializes SPI serial communication.">Init()</a>, <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#aad4d083ef9093fe0462e124072757fb6" title="Disables and resets SPI serial communication.">Deinit()</a> </dd></dl>

</div>
</div>
<a id="a2411774170cdb8758f206af77aae5c73" name="a2411774170cdb8758f206af77aae5c73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2411774170cdb8758f206af77aae5c73">&#9670;&nbsp;</a></span>~SPIController()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SerialSPI::SPIController::~SPIController </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>
<p >Called when <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html" title="SPI serial communication controller object">SPIController</a> object is destroyed. Immediately halts data transmission and resets peripheral hardware.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a47bb2a527721438538b117fe96d8cf99" title="Constructor.">SPIController()</a>, <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#aac613474c61cbcf0cf8268bb3f7b492e" title="Initializes SPI serial communication.">Init()</a>, <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#aad4d083ef9093fe0462e124072757fb6" title="Disables and resets SPI serial communication.">Deinit()</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aea49d25ca4796de870226f49e05892db" name="aea49d25ca4796de870226f49e05892db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea49d25ca4796de870226f49e05892db">&#9670;&nbsp;</a></span>ClearBuffers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SerialSPI::SPIController::ClearBuffers </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>clear_mosi</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>clear_miso</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears MOSI and/or MISO buffers. </p>
<p >Clears out the MOSI and/or MISO buffers and resets status data and indices. Useful for quick handling of full buffers and errors.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clear_mosi</td><td>clear MOSI/transmit buffer (default = true) </td></tr>
    <tr><td class="paramname">clear_miso</td><td>clear MISO/receive buffer (default = true) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#aad4d083ef9093fe0462e124072757fb6" title="Disables and resets SPI serial communication.">Deinit()</a> </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_serial_s_p_i_1_1_s_p_i_controller_aea49d25ca4796de870226f49e05892db_cgraph.png" border="0" usemap="#aclass_serial_s_p_i_1_1_s_p_i_controller_aea49d25ca4796de870226f49e05892db_cgraph" alt=""/></div>
<map name="aclass_serial_s_p_i_1_1_s_p_i_controller_aea49d25ca4796de870226f49e05892db_cgraph" id="aclass_serial_s_p_i_1_1_s_p_i_controller_aea49d25ca4796de870226f49e05892db_cgraph">
<area shape="rect" title="Clears MOSI and/or MISO buffers." alt="" coords="5,23,165,65"/>
<area shape="rect" href="namespace_s_p_i_h_a_l.html#a6d0f0f6ce58c081097768d0eafe596f4" title="Enables or disables SERCOM receive complete interrupt." alt="" coords="221,5,374,32"/>
<area shape="rect" href="namespace_s_p_i_h_a_l.html#a6e3a8d74a37871a188d276b85c0b6ce8" title="Enables or disables SERCOM data register empty interrupt." alt="" coords="213,56,381,83"/>
</map>
</div>

</div>
</div>
<a id="aad4d083ef9093fe0462e124072757fb6" name="aad4d083ef9093fe0462e124072757fb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad4d083ef9093fe0462e124072757fb6">&#9670;&nbsp;</a></span>Deinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SerialSPI::SPIController::Deinit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disables and resets SPI serial communication. </p>
<p >Disables SPI serial controller if active and resets peripheral hardware. SPI controller can be initialized again after calling this function without destroying entire object.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#aac613474c61cbcf0cf8268bb3f7b492e" title="Initializes SPI serial communication.">Init()</a>, <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#aea49d25ca4796de870226f49e05892db" title="Clears MOSI and/or MISO buffers.">ClearBuffers()</a>, <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a2411774170cdb8758f206af77aae5c73" title="Destructor.">~SPIController()</a> </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_serial_s_p_i_1_1_s_p_i_controller_aad4d083ef9093fe0462e124072757fb6_cgraph.png" border="0" usemap="#aclass_serial_s_p_i_1_1_s_p_i_controller_aad4d083ef9093fe0462e124072757fb6_cgraph" alt=""/></div>
<map name="aclass_serial_s_p_i_1_1_s_p_i_controller_aad4d083ef9093fe0462e124072757fb6_cgraph" id="aclass_serial_s_p_i_1_1_s_p_i_controller_aad4d083ef9093fe0462e124072757fb6_cgraph">
<area shape="rect" title="Disables and resets SPI serial communication." alt="" coords="5,49,165,90"/>
<area shape="rect" href="namespace_s_p_i_h_a_l.html#aa4cf3cc25f024a7be45f2835f91cfc04" title="Tear down function for SPI serial communication low level drivers." alt="" coords="220,5,375,32"/>
<area shape="rect" href="namespace_s_p_i_h_a_l.html#a6d0f0f6ce58c081097768d0eafe596f4" title="Enables or disables SERCOM receive complete interrupt." alt="" coords="221,56,374,83"/>
<area shape="rect" href="namespace_s_p_i_h_a_l.html#a6e3a8d74a37871a188d276b85c0b6ce8" title="Enables or disables SERCOM data register empty interrupt." alt="" coords="213,107,381,133"/>
</map>
</div>

</div>
</div>
<a id="ae61e13e1124ba8fa06cbcd9570f478bf" name="ae61e13e1124ba8fa06cbcd9570f478bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae61e13e1124ba8fa06cbcd9570f478bf">&#9670;&nbsp;</a></span>GetStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_serial_s_p_i_1_1_status.html">SerialSPI::Status</a> SerialSPI::SPIController::GetStatus </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter for errors, interrupts, and power state. </p>
<p >Useful for adding additional ISR responses in SERCOM handler.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a982acee8e5b16d9a4f99dd25257ce4be" title="Interrupt Service Routine.">ISR()</a>, <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#acb1506e78efd728e84f2e221a63787e5" title="Clears MOSI Interrupt Status.">ClearMOSIInterrupt()</a>, <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a5f03b1356b67fcee8c89eecde8d875f4" title="Clears MISO Interrupt Status.">ClearMISOInterrupt()</a>, <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#ac4ccfe6239374a7923f6bc32022c0cac" title="Clears Error Status.">ClearErrors()</a> </dd></dl>

</div>
</div>
<a id="aac613474c61cbcf0cf8268bb3f7b492e" name="aac613474c61cbcf0cf8268bb3f7b492e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac613474c61cbcf0cf8268bb3f7b492e">&#9670;&nbsp;</a></span>Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SerialSPI::SPIController::Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_s_p_i_h_a_l_1_1_peripheral.html">SPIHAL::Peripheral</a> *&#160;</td>
          <td class="paramname"><em>p_config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>mosi_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>mosi_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>miso_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>miso_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes SPI serial communication. </p>
<p >Uses five parameters for peripheral config and buffer sizes to initialize peripheral hardware, buffers, and statuses if SPI hasn't been initialized. This function will not do anything if SPI is currently enabled.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_config</td><td>pointer to peripheral config information </td></tr>
    <tr><td class="paramname">mosi_buf</td><td>initialized character array used for receive/MOSI buffer </td></tr>
    <tr><td class="paramname">mosi_size</td><td>MOSI buffer size </td></tr>
    <tr><td class="paramname">miso_buf</td><td>initialized character array used for transmit/MISO buffer </td></tr>
    <tr><td class="paramname">miso_size</td><td>MISO buffer size </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#aad4d083ef9093fe0462e124072757fb6" title="Disables and resets SPI serial communication.">Deinit()</a>, <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a20a5ea3cc3245409ca33962a37bfc41b" title="Resets MOSI/transmit buffer.">ResetMOSIBuffer()</a>, <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a53d317407bfb1b94cb69b37eb9934c7a" title="Resets MISO/receive buffer.">ResetMISOBuffer()</a>, <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a8a734767c555f5bad5cf8104d0d5c467" title="Enabler for Error interrupt.">EnableErrorIRQ()</a> </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_serial_s_p_i_1_1_s_p_i_controller_aac613474c61cbcf0cf8268bb3f7b492e_cgraph.png" border="0" usemap="#aclass_serial_s_p_i_1_1_s_p_i_controller_aac613474c61cbcf0cf8268bb3f7b492e_cgraph" alt=""/></div>
<map name="aclass_serial_s_p_i_1_1_s_p_i_controller_aac613474c61cbcf0cf8268bb3f7b492e_cgraph" id="aclass_serial_s_p_i_1_1_s_p_i_controller_aac613474c61cbcf0cf8268bb3f7b492e_cgraph">
<area shape="rect" title="Initializes SPI serial communication." alt="" coords="5,5,165,47"/>
<area shape="rect" href="namespace_s_p_i_h_a_l.html#ac45b81cb5831459640bbff4d3b82f6e8" title="Initializing function for SPI serial communication low level drivers." alt="" coords="213,13,352,39"/>
</map>
</div>

</div>
</div>
<a id="a982acee8e5b16d9a4f99dd25257ce4be" name="a982acee8e5b16d9a4f99dd25257ce4be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a982acee8e5b16d9a4f99dd25257ce4be">&#9670;&nbsp;</a></span>ISR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SerialSPI::SPIController::ISR </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interrupt Service Routine. </p>
<p >Function to be called in corresponding SERCOM# interrupt handler. Sets IRQ and error statuses, populates MISO buffer, and transmits data from the MOSI buffer.<br  />
 Interrupts can be read with <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#ae61e13e1124ba8fa06cbcd9570f478bf" title="Getter for errors, interrupts, and power state.">GetStatus()</a> to handle synchronization of events, check and handle errors, and generally assist with debugging.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#ae61e13e1124ba8fa06cbcd9570f478bf" title="Getter for errors, interrupts, and power state.">GetStatus()</a>, <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a5f03b1356b67fcee8c89eecde8d875f4" title="Clears MISO Interrupt Status.">ClearMISOInterrupt()</a>, <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#acb1506e78efd728e84f2e221a63787e5" title="Clears MOSI Interrupt Status.">ClearMOSIInterrupt()</a>, <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#ac4ccfe6239374a7923f6bc32022c0cac" title="Clears Error Status.">ClearErrors()</a> </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_serial_s_p_i_1_1_s_p_i_controller_a982acee8e5b16d9a4f99dd25257ce4be_cgraph.png" border="0" usemap="#aclass_serial_s_p_i_1_1_s_p_i_controller_a982acee8e5b16d9a4f99dd25257ce4be_cgraph" alt=""/></div>
<map name="aclass_serial_s_p_i_1_1_s_p_i_controller_a982acee8e5b16d9a4f99dd25257ce4be_cgraph" id="aclass_serial_s_p_i_1_1_s_p_i_controller_a982acee8e5b16d9a4f99dd25257ce4be_cgraph">
<area shape="rect" title="Interrupt Service Routine." alt="" coords="5,157,195,184"/>
<area shape="rect" href="namespace_s_p_i_h_a_l.html#a6d0f0f6ce58c081097768d0eafe596f4" title="Enables or disables SERCOM receive complete interrupt." alt="" coords="255,5,409,32"/>
<area shape="rect" href="namespace_s_p_i_h_a_l.html#a6e3a8d74a37871a188d276b85c0b6ce8" title="Enables or disables SERCOM data register empty interrupt." alt="" coords="248,56,416,83"/>
<area shape="rect" href="namespace_s_p_i_h_a_l.html#a092cde904e797f83ab0f5b37778376cb" title="Reads SERCOM data register." alt="" coords="253,107,411,133"/>
<area shape="rect" href="namespace_s_p_i_h_a_l.html#a38569666cf554783be9abec61a47808b" title="Checks if receive has completed and therefore SERCOM data register is ready to be read." alt="" coords="246,157,418,184"/>
<area shape="rect" href="namespace_s_p_i_h_a_l.html#a192258cfd0f723976825b81d3035cf90" title="Checks if SERCOM data register is empty and therefore ready for transmission." alt="" coords="243,208,421,235"/>
<area shape="rect" href="namespace_s_p_i_h_a_l.html#ad8572ed565717b20cfc53cbf5534e67a" title="Checks if error occurred." alt="" coords="243,259,421,285"/>
<area shape="rect" href="namespace_s_p_i_h_a_l.html#abf381ac57852166c1ba9b2c22910639a" title="Writes to SERCOM data register." alt="" coords="255,309,409,336"/>
</map>
</div>

</div>
</div>
<a id="a3a1ba24ba52726fe3800b9ec81438a8a" name="a3a1ba24ba52726fe3800b9ec81438a8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a1ba24ba52726fe3800b9ec81438a8a">&#9670;&nbsp;</a></span>Receive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SerialSPI::SPIController::Receive </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>output</em> = <code>nullptr</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive character from logic layer MISO buffer and free buffer space. </p>
<p >Receives character from logic layer MISO buffer, updates MISO reader pointer, status, number of available MISO buffer slots.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">output</td><td>pointer to received char (default = nullptr) <br  />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success of reception </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#af32c1b958d7f206d14c260f3bf9a7d41" title="Transmit character into logic layer transmit buffer to be sent to SPI data buffer.">Transmit()</a>, <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a627377a7434d11ac09f96c036e63b649" title="Simple SPI Procedure which performs a transaction between host and client.">SPIHostProcedure()</a> </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_serial_s_p_i_1_1_s_p_i_controller_a3a1ba24ba52726fe3800b9ec81438a8a_cgraph.png" border="0" usemap="#aclass_serial_s_p_i_1_1_s_p_i_controller_a3a1ba24ba52726fe3800b9ec81438a8a_cgraph" alt=""/></div>
<map name="aclass_serial_s_p_i_1_1_s_p_i_controller_a3a1ba24ba52726fe3800b9ec81438a8a_cgraph" id="aclass_serial_s_p_i_1_1_s_p_i_controller_a3a1ba24ba52726fe3800b9ec81438a8a_cgraph">
<area shape="rect" title="Receive character from logic layer MISO buffer and free buffer space." alt="" coords="5,5,165,47"/>
<area shape="rect" href="namespace_s_p_i_h_a_l.html#a6d0f0f6ce58c081097768d0eafe596f4" title="Enables or disables SERCOM receive complete interrupt." alt="" coords="213,13,367,39"/>
</map>
</div>

</div>
</div>
<a id="a53d317407bfb1b94cb69b37eb9934c7a" name="a53d317407bfb1b94cb69b37eb9934c7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53d317407bfb1b94cb69b37eb9934c7a">&#9670;&nbsp;</a></span>ResetMISOBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SerialSPI::SPIController::ResetMISOBuffer </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>miso_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>miso_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets MISO/receive buffer. </p>
<p >Resets SPI controller MISO buffer to use a new input array and buffer size. Resets RXIRQ status and error status.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">miso_buf</td><td>initialized character array used for receive buffer </td></tr>
    <tr><td class="paramname">miso_size</td><td>receive buffer size </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a20a5ea3cc3245409ca33962a37bfc41b" title="Resets MOSI/transmit buffer.">ResetMOSIBuffer()</a>, <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#aac613474c61cbcf0cf8268bb3f7b492e" title="Initializes SPI serial communication.">Init()</a> </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_serial_s_p_i_1_1_s_p_i_controller_a53d317407bfb1b94cb69b37eb9934c7a_cgraph.png" border="0" usemap="#aclass_serial_s_p_i_1_1_s_p_i_controller_a53d317407bfb1b94cb69b37eb9934c7a_cgraph" alt=""/></div>
<map name="aclass_serial_s_p_i_1_1_s_p_i_controller_a53d317407bfb1b94cb69b37eb9934c7a_cgraph" id="aclass_serial_s_p_i_1_1_s_p_i_controller_a53d317407bfb1b94cb69b37eb9934c7a_cgraph">
<area shape="rect" title="Resets MISO/receive buffer." alt="" coords="5,5,165,47"/>
<area shape="rect" href="namespace_s_p_i_h_a_l.html#a6d0f0f6ce58c081097768d0eafe596f4" title="Enables or disables SERCOM receive complete interrupt." alt="" coords="213,13,367,39"/>
</map>
</div>

</div>
</div>
<a id="a20a5ea3cc3245409ca33962a37bfc41b" name="a20a5ea3cc3245409ca33962a37bfc41b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20a5ea3cc3245409ca33962a37bfc41b">&#9670;&nbsp;</a></span>ResetMOSIBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SerialSPI::SPIController::ResetMOSIBuffer </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>mosi_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>mosi_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets MOSI/transmit buffer. </p>
<p >Resets SPI controller MOSI buffer to use a new input array and buffer size. Resets TXIRQ status.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mosi_buf</td><td>initialized character array used for transmit buffer </td></tr>
    <tr><td class="paramname">mosi_size</td><td>transmit buffer size </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a53d317407bfb1b94cb69b37eb9934c7a" title="Resets MISO/receive buffer.">ResetMISOBuffer()</a>, <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#aac613474c61cbcf0cf8268bb3f7b492e" title="Initializes SPI serial communication.">Init()</a> </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_serial_s_p_i_1_1_s_p_i_controller_a20a5ea3cc3245409ca33962a37bfc41b_cgraph.png" border="0" usemap="#aclass_serial_s_p_i_1_1_s_p_i_controller_a20a5ea3cc3245409ca33962a37bfc41b_cgraph" alt=""/></div>
<map name="aclass_serial_s_p_i_1_1_s_p_i_controller_a20a5ea3cc3245409ca33962a37bfc41b_cgraph" id="aclass_serial_s_p_i_1_1_s_p_i_controller_a20a5ea3cc3245409ca33962a37bfc41b_cgraph">
<area shape="rect" title="Resets MOSI/transmit buffer." alt="" coords="5,5,165,47"/>
<area shape="rect" href="namespace_s_p_i_h_a_l.html#a6e3a8d74a37871a188d276b85c0b6ce8" title="Enables or disables SERCOM data register empty interrupt." alt="" coords="213,13,381,39"/>
</map>
</div>

</div>
</div>
<a id="a627377a7434d11ac09f96c036e63b649" name="a627377a7434d11ac09f96c036e63b649"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a627377a7434d11ac09f96c036e63b649">&#9670;&nbsp;</a></span>SPIHostProcedure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char SerialSPI::SPIController::SPIHostProcedure </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>num_read</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simple SPI Procedure which performs a transaction between host and client. </p>
<p >Performs a SPI Transaction compatible with nearly any SPI client. This transaction will pull down the SS line, send bytes, send \0 characters to read data from client, and pull up SS line.<br  />
 This will return a char coinciding with a status byte sent by most SPI clients.<br  />
 Use <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a3a1ba24ba52726fe3800b9ec81438a8a" title="Receive character from logic layer MISO buffer and free buffer space.">Receive()</a> to read data from the client.<br  />
 Call <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a84f78bb2865e1f36b0dfe2f0567c01cd" title="Change Slave Select Line pin (if using multiple clients)">ChangeSSL()</a> before this function if using multiple clients.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num_bytes</td><td>number of bytes to send to client </td></tr>
    <tr><td class="paramname">bytes</td><td>array of bytes to send </td></tr>
    <tr><td class="paramname">num_read</td><td>number of bytes to read from client (default = 0) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 or custom status byte defined by client </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#af32c1b958d7f206d14c260f3bf9a7d41" title="Transmit character into logic layer transmit buffer to be sent to SPI data buffer.">Transmit()</a>, <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a6fc4ad0d39e775a14becf473a979263c" title="Sets Slave Select Line to Low (indicates start of transmission to slave device)">SSLow()</a>, <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a725cb585c59f8bd9aa57418b25df14c4" title="Sets Slave Select Line to High (indicates end of transmission to slave device)">SSHigh()</a>, <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a3a1ba24ba52726fe3800b9ec81438a8a" title="Receive character from logic layer MISO buffer and free buffer space.">Receive()</a>, <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a84f78bb2865e1f36b0dfe2f0567c01cd" title="Change Slave Select Line pin (if using multiple clients)">ChangeSSL()</a> </dd></dl>

</div>
</div>
<a id="af32c1b958d7f206d14c260f3bf9a7d41" name="af32c1b958d7f206d14c260f3bf9a7d41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af32c1b958d7f206d14c260f3bf9a7d41">&#9670;&nbsp;</a></span>Transmit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SerialSPI::SPIController::Transmit </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmit character into logic layer transmit buffer to be sent to SPI data buffer. </p>
<p >Transmits character into logic layer MOSI buffer, updates MOSI writer pointer, status, number of available MOSI buffer slots.<br  />
 Returns a true/false based on success of transmission. Transmission will fail if logic layer MOSI buffer is full.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input</td><td>character to be transmitted </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success of transmission </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a3a1ba24ba52726fe3800b9ec81438a8a" title="Receive character from logic layer MISO buffer and free buffer space.">Receive()</a>, <a class="el" href="class_serial_s_p_i_1_1_s_p_i_controller.html#a627377a7434d11ac09f96c036e63b649" title="Simple SPI Procedure which performs a transaction between host and client.">SPIHostProcedure()</a> </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_serial_s_p_i_1_1_s_p_i_controller_af32c1b958d7f206d14c260f3bf9a7d41_cgraph.png" border="0" usemap="#aclass_serial_s_p_i_1_1_s_p_i_controller_af32c1b958d7f206d14c260f3bf9a7d41_cgraph" alt=""/></div>
<map name="aclass_serial_s_p_i_1_1_s_p_i_controller_af32c1b958d7f206d14c260f3bf9a7d41_cgraph" id="aclass_serial_s_p_i_1_1_s_p_i_controller_af32c1b958d7f206d14c260f3bf9a7d41_cgraph">
<area shape="rect" title="Transmit character into logic layer transmit buffer to be sent to SPI data buffer." alt="" coords="5,5,165,47"/>
<area shape="rect" href="namespace_s_p_i_h_a_l.html#a6e3a8d74a37871a188d276b85c0b6ce8" title="Enables or disables SERCOM data register empty interrupt." alt="" coords="213,13,381,39"/>
</map>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>SerialLibraryExample/serial_controllers/serial_spi/<a class="el" href="serial__spi_8h_source.html">serial_spi.h</a></li>
<li>SerialLibraryExample/serial_controllers/serial_spi/serial_spi.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
